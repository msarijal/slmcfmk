<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Islam &amp; Qur&#x27;an Q&amp;A</title>
  <link rel="stylesheet" href="css/main.css">
  <script src="js/boot.js" defer></script>
  <script>
  const QUIZ_MENU = [
    {
      key: "QUIZ_DEC_QA",
      title: "Dec 2025 Quiz",
      desc: "Islamic quiz on Qur’an, Prophets, and the month of Rajab.",
    },
    {
      key: "QUIZ_ARAB_NOUN",
      title: "Learn Arabic : Arabic To English",
      desc: "Find the English meaning of Arabic nouns and words",
    },
    {
      key: "QUIZ_ENG_NOUN",
      title: "Learn Arabic : English To Arabic",
      desc: "Find the Arabic translation for English words and phrases",
    },
    {
      key: "QUIZ_NUMERAL",
      title: "Learn Arabic : Basic Arabic Numerals",
      desc: "Learn the Arabic numerals 1 to 10 and their pronunciation",
    },
    {
      key: "QUIZ_NUMERAL2",
      title: "Learn Arabic : Advance Arabic Numerals",
      desc: "Learn the Arabic numerals 1 to 100 and their pronunciation",
    },
  ];
</script>
</head>

<body class="safe">
  <header>
    <h1>Islam &amp; Qur&#x27;an Q&amp;A</h1>
    <p class="sub">Answer each question. When you finish, you’ll see your choices, the correct answers, and your score.</p>
  </header>
  
  <div class="wrap">

    <div class="drawerBack" id="drawerBack" aria-hidden="true"></div>
    <aside class="drawer" id="drawer" aria-label="Quiz menu">
      <div class="nav" style="margin-top: 0; grid-template-columns: 1fr;">
        <button class="btn" id="btnCloseMenu" type="button">Close</button>
      </div>
      <div class="menu" id="quizMenu" style="display: grid; gap: 10px; margin-top: 12px;"></div>
    </aside>

    <div class="topbar">
      <button class="btn" id="btnBack" title="Main Page">Back</button>
      <button class="btn" id="btnMenu" type="button">Menu</button>
      <span class="pill" id="pillPos" style="display:none;">Question 1 / 66</span>
      <span class="pill" id="pillAnswered">Count: 0 / 66</span>
      <button class="btn" id="btnReset" title="Start over">Reset</button>
    </div>

    <div class="progress" aria-hidden="true">
      <div class="bar" id="bar"></div>
    </div>

    <div class="card" id="quizCard">
      <div class="qhead">
        <div class="qline">
          <p class="q" id="qText">—</p>
          <button class="btn speak" id="btnSpeak" type="button" title="Speak">▶</button>
        </div>
        <div class="qnum" id="qNum" style="display:none;">Q—</div>
      </div>

      <div class="opts" id="opts"></div>

      <div class="helper">
        <span id="hint">Pick one answer, then press Next.</span>
        <span id="saved">Not answered yet.</span>
      </div>

      <div class="nav">
        <button class="btn" id="btnPrev">◀ Previous</button>
        <button class="btn primary" id="btnNext">Next ▶</button>
      </div>

      <div class="nav">
        <button class="btn" id="btnCheck">Check this answer</button>
        <button class="btn" id="btnJumpUnanswered" style="display:none;">Go to next unanswered</button>
        <button class="btn good" id="btnFinish">Finish & see results</button>
      </div>
    </div>

    <div class="card results" id="resultsCard" style="margin-top: 12px;">
      <div class="qhead" style="margin-bottom: 0;">
        <p class="q">Results</p>
        <div class="qnum" id="scoreLine">—</div>
      </div>

      <div class="stats">
        <div class="stat">
          <div class="label">Right ✅</div>
          <div class="value" id="statRight">0</div>
        </div>
        <div class="stat">
          <div class="label">Wrong ❌</div>
          <div class="value" id="statWrong">0</div>
        </div>
        <div class="stat">
          <div class="label">Answered</div>
          <div class="value" id="statAnswered">0</div>
        </div>
      </div>

      <div class="table" id="resultsTableWrap">
        <table id="resultsTable">
          <thead>
            <tr>
              <th>#</th>
              <th>Question</th>
              <th>Correct answer</th>
              <th>Your answer</th>
              <th>Result</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>

      <div class="nav" style="margin-top: 12px;">
        <button class="btn" id="btnBackToQuiz">◀ Back to quiz</button>
        <button class="btn primary" id="btnPrint">Print / Save as PDF</button>
      </div>
    </div>
  </div>

  <script>
    const drawerEls = {
      drawer: document.getElementById("drawer"),
      back: document.getElementById("drawerBack"),
      list: document.getElementById("quizMenu"),
      btnOpen: document.getElementById("btnMenu"),
      btnClose: document.getElementById("btnCloseMenu"),
    };

    function openDrawer() {
      drawerEls.drawer.classList.add("open");
      drawerEls.back.classList.add("show");
    }

    function closeDrawer() {
      drawerEls.drawer.classList.remove("open");
      drawerEls.back.classList.remove("show");
    }

    function goToQuiz(key) {
      window.location.href = `index.html?quiz=${encodeURIComponent(key)}`;
    }

    QUIZ_MENU.forEach((item) => {
      const btn = document.createElement("button");
      btn.type = "button";
      btn.className = "btn menuItem";

      const t = document.createElement("span");
      t.className = "menuTitle";
      t.textContent = item.title;

      const d = document.createElement("span");
      d.className = "menuDesc";
      d.textContent = item.desc;

      btn.appendChild(t);
      btn.appendChild(d);

      btn.addEventListener("click", () => {
        closeDrawer();
        goToQuiz(item.key);
      });

      drawerEls.list.appendChild(btn);
    });

    drawerEls.btnOpen.addEventListener("click", openDrawer);
    drawerEls.btnClose.addEventListener("click", closeDrawer);
    drawerEls.back.addEventListener("click", closeDrawer);

    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") closeDrawer();
    });
  </script>
</body>
</html>
